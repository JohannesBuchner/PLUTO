<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>PLUTO: /Users/mignone/PLUTO/Src/boundary.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUTO
   &#160;<span id="projectnumber">4.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">boundary.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Set boundary conditions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="pluto_8h_source.html">pluto.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a737d3862f4cf347b9f2216b6310edde7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boundary_8c.html#a737d3862f4cf347b9f2216b6310edde7">Boundary</a> (const <a class="el" href="struct_data.html">Data</a> *d, int idim, <a class="el" href="struct_grid.html">Grid</a> *grid)</td></tr>
<tr class="separator:a737d3862f4cf347b9f2216b6310edde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa2c3812b50a67a072ef889f04b0298a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boundary_8c.html#aaa2c3812b50a67a072ef889f04b0298a">OutflowBound</a> (double ***q, int side, int vpos, <a class="el" href="struct_grid.html">Grid</a> *grid)</td></tr>
<tr class="separator:aaa2c3812b50a67a072ef889f04b0298a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6568d0d7cf8bdce19cb4cde1036830f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boundary_8c.html#ab6568d0d7cf8bdce19cb4cde1036830f">FlipSign</a> (int side, int type, int *vsign)</td></tr>
<tr class="separator:ab6568d0d7cf8bdce19cb4cde1036830f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5e609b6e81efad2209b378f65890e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boundary_8c.html#a9c5e609b6e81efad2209b378f65890e4">ReflectiveBound</a> (double ***q, int s, int side, int vpos)</td></tr>
<tr class="separator:a9c5e609b6e81efad2209b378f65890e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6f6c2a62c93694cb4291ceea98d5916"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boundary_8c.html#ac6f6c2a62c93694cb4291ceea98d5916">PeriodicBound</a> (double ***q, int side, int vpos)</td></tr>
<tr class="separator:ac6f6c2a62c93694cb4291ceea98d5916"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="boundary_8c.html#a737d3862f4cf347b9f2216b6310edde7">Boundary()</a> function sets both internal and physical boundary conditions on one or more sides of the computational domain. It is used to fill ghost zones of both cell-centered and face-centered data arrays.<br />
The type of boundary conditions at the leftmost or rightmost side of a given grid is specified by the integers <code> grid[dir].lbound </code> or <code> grid[dir].rbound </code>, respectively. When this value is different from zero, the local processor borders the physical boundary and the admissible values for <code>lbound</code> or <code>rbound</code> are OUTFLOW, REFLECTIVE, AXISYMMETRIC, EQTSYMMETRIC, PERIODIC, SHEARING or USERDEF. Conversely, when this value is zero (internal boundary), two neighboring processors that share the same side need to fill ghost zones by exchanging data values. This step is done here only for parallel computations on static grids.</p>
<p>Predefined physical boundary conditions are handled by the following functions:</p>
<ul>
<li><a class="el" href="boundary_8c.html#aaa2c3812b50a67a072ef889f04b0298a">OutflowBound()</a></li>
<li><a class="el" href="boundary_8c.html#a9c5e609b6e81efad2209b378f65890e4">ReflectiveBound()</a></li>
<li><a class="el" href="boundary_8c.html#ac6f6c2a62c93694cb4291ceea98d5916">PeriodicBound()</a></li>
</ul>
<dl class="section author"><dt>Author</dt><dd>A. Mignone (<a href="#" onclick="location.href='mai'+'lto:'+'mig'+'no'+'ne@'+'ph'+'.un'+'it'+'o.i'+'t'; return false;">migno<span style="display: none;">.nosp@m.</span>ne@p<span style="display: none;">.nosp@m.</span>h.uni<span style="display: none;">.nosp@m.</span>to.i<span style="display: none;">.nosp@m.</span>t</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Dec 18, 2014 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a737d3862f4cf347b9f2216b6310edde7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Boundary </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_grid.html">Grid</a> *&#160;</td>
          <td class="paramname"><em>grid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set boundary conditions on one or more sides of the computational domain.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">d</td><td>pointer to PLUTO <a class="el" href="struct_data.html">Data</a> structure containing the solution array (including centered and staggered fields) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idim</td><td>specifies on which side(s) of the computational domain boundary conditions must be set. Possible values are<ul>
<li>idim = IDIR first dimension (x1)</li>
<li>idim = JDIR second dimenson (x2)</li>
<li>idim = KDIR third dimension (x3)</li>
<li>idim = ALL_DIR all dimensions</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grid</td><td>pointer to an array of grid structures. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab6568d0d7cf8bdce19cb4cde1036830f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlipSign </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>vsign</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reverse the sign of vector components with respect to axis side. Depending on type, one needs to symmetrize or anti-symmetrize:</p>
<ul>
<li>REFLECTIVE: <br />
 o Vn -&gt; -Vn, Bn -&gt; -Bn <br />
 o Vp -&gt; Vp, Bp -&gt; Bp <br />
 o Vt -&gt; Vt, Bt -&gt; Bt</li>
<li>AXISYMMETRIC: <br />
 o Vn -&gt; -Vn, Bn -&gt; -Bn <br />
 o Vp -&gt; Vp, Bp -&gt; Bp <br />
 o Vt -&gt; -Vt, Bt -&gt; -Bt</li>
<li>EQTSYMMETRIC: <br />
 o Vn -&gt; -Vn, Bn -&gt; Bn <br />
 o Vp -&gt; Vp, Bp -&gt; -Bp <br />
 o Vt -&gt; Vt, Bt -&gt; -Bt</li>
</ul>
<p>where (n) is the normal components, (p) and (t) are the transverse (or poloidal and toroidal for cylindrical and spherical coordinates) components.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">side</td><td>boundary side </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>boundary condition type </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vsign</td><td>an array of values (+1 or -1) giving the sign </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaa2c3812b50a67a072ef889f04b0298a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OutflowBound </td>
          <td>(</td>
          <td class="paramtype">double ***&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_grid.html">Grid</a> *&#160;</td>
          <td class="paramname"><em>grid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Impose zero-gradient boundary conditions on 'q' on the boundary side specified by box-&gt;side. The staggered component of magnetic field is assigned using the div.B = 0 condition in a different loop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">q</td><td>a 3D array representing a flow variable </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">box</td><td>pointer to a <a class="el" href="struct_r_box.html">RBox</a> structure defining the extent of the boundary region and the variable position inside the cell </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grid</td><td>pointer to an array of <a class="el" href="struct_grid.html">Grid</a> structures </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac6f6c2a62c93694cb4291ceea98d5916"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBound </td>
          <td>(</td>
          <td class="paramtype">double ***&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vpos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements periodic boundary conditions in serial mode. </p>

</div>
</div>
<a class="anchor" id="a9c5e609b6e81efad2209b378f65890e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReflectiveBound </td>
          <td>(</td>
          <td class="paramtype">double ***&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vpos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make symmetric (s = 1) or anti-symmetric (s=-1) profiles with respect to the boundary plane specified by box-&gt;side. The sign is set by the <a class="el" href="boundary_8c.html#ab6568d0d7cf8bdce19cb4cde1036830f">FlipSign()</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">q</td><td>a 3D flow quantity </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">box</td><td>pointer to box structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>an integer taking only the values +1 (symmetric profile) or -1 (antisymmetric profile) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 31 2015 12:33:06 for PLUTO by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
